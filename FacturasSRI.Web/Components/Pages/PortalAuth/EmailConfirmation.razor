@page "/email-confirmation"
@layout EmptyLayout
@inject NavigationManager Navigation

<PageTitle>Confirmación de Correo</PageTitle>

<div class="login-container">
    <div class="card login-card">
        <div class="card-body text-center">
            
            @if (success)
            {
                <i class="bi bi-check-circle-fill text-success" style="font-size: 4rem; margin-bottom: 1rem;"></i>
                <h1 class="h3 mb-3 fw-normal">¡Cuenta Confirmada!</h1>
                <p class="text-muted">Tu correo electrónico ha sido verificado exitosamente.</p>
                <button class="btn btn-primary" @onclick="GoToLogin">Ir a Iniciar Sesión</button>
            }
            else
            {
                <i class="bi bi-x-circle-fill text-danger" style="font-size: 4rem; margin-bottom: 1rem;"></i>
                <h1 class="h3 mb-3 fw-normal">Error de Confirmación</h1>
                <p class="text-muted">El enlace de confirmación no es válido o ha expirado. Por favor, intenta registrarte de nuevo o contacta a soporte.</p>
                <button class="btn btn-secondary" @onclick="GoToRegister">Volver al Registro</button>
            }

        </div>
    </div>
</div>

@code {
    [SupplyParameterFromQuery]
    public bool success { get; set; }

    private void GoToLogin()
    {
        Navigation.NavigateTo("/login");
    }

    private void GoToRegister()
    {
        Navigation.NavigateTo("/portal/register");
    }
}
